#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <errno.h>
#include <limits.h>

int main(void)
{
    printf("Start\n");

    int a = 16;
    printf("Size of variable a : %lu\n",sizeof(a));
    printf("Size of variable &a : %lu\n",sizeof(&a));
    printf("Size of int data type : %lu\n",sizeof(int));
    printf("Size of char data type : %lu\n",sizeof(char));
    printf("Size of float data type : %lu\n",sizeof(float));
    printf("Size of double data type : %lu\n",sizeof(double));

    printf("Size of * int data type : %lu\n",sizeof(int *));
    printf("Size of * char data type : %lu\n",sizeof(char *));
    printf("Size of * float data type : %lu\n",sizeof(float *));
    printf("Size of * double data type : %lu\n",sizeof(double *));

    char * w = "World";
    int cw = sizeof(*w) / sizeof(char);

    printf("%i: sizeof(w): %lu\n", __LINE__, sizeof(w));
    printf("%i: sizeof(* w): %lu\n", __LINE__, sizeof(* w));
    printf("%i: Number of words is: %i\n", __LINE__, cw);

    for (int i = 0; i < cw; ++i) {
        printf("w is: %s\n", w);
    }

    char * aw[4] = { "Hello", "World", "Again", "!"};
    int caw = sizeof(aw) / sizeof(char *);

    printf("%i: sizeof(aw): %lu\n", __LINE__, sizeof(aw));
    printf("%i: sizeof(* aw): %lu\n", __LINE__, sizeof(* aw));
    printf("%i: Number of words is: %i\n", __LINE__, caw);

    for (int i = 0; i < caw; ++i) {
        printf("aw[%i] is: %s\n", i, aw[i]);
    }

    char * lw[] = {
        "123456789 ",
        "123456789 123456789 ",
        "123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 ",
        "123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123445678 123445678 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 "
    };
    int clw = sizeof(lw) / sizeof(char *);

    printf("%i: sizeof(lw): %lu\n", __LINE__, sizeof(lw));
    printf("%i: sizeof(* lw): %lu\n", __LINE__, sizeof(* lw));
    printf("%i: Number of words is: %i\n", __LINE__, clw);

    for (int i = 0; i < clw; ++i) {
        printf("lw[%i] is: %s\n", i, lw[i]);
    }

    char number = 0;
    char * mw = NULL;

    printf("Set number of words: ");
    fgets(&number, 2, stdin);

    errno = 0;
    // @see https://linux.die.net/man/3/strtol
    int nw = strtol(&number, NULL, 10);

    if (errno == ERANGE || (errno != 0 && nw == 0)) {
        perror("strtol");

        exit(EXIT_FAILURE);
    }

    printf("%i: Words: %d\n", __LINE__, nw);

    mw = malloc(nw * sizeof(char) * 50);

    for (int i = 0; i < nw; ++i) {
        printf("Word in %d is: ", i);
        scanf("%s",mw + (i * 50));
    }

    int cmw = (sizeof(mw) * nw) / sizeof(char *);

    printf("%i: sizeof(mw): %lu\n", __LINE__, sizeof(mw));
    printf("%i: sizeof(* mw): %lu\n", __LINE__, sizeof(* mw));
    printf("%i: Number of words is: %i\n", __LINE__, cmw);

    for (int i = 0; i < cmw; ++i) {
        printf("mw[%i] is: %s\n", i, mw + (i * 50));
    }

    free(mw);

    printf("End\n");

    return EXIT_SUCCESS;
}
